@model SportsSocialNetwork.Models.ViewModels.NewsViewModel
@using SportsSocialNetwork.Models.Entities;
@using Microsoft.AspNet.Identity;
@{
    ViewBag.Title = "NewsDetail";
    Layout = "~/Views/Shared/_SSNLayout.cshtml";

    List<Category> categories = ViewBag.categories;
    List<News> relativeNews = ViewBag.relativeNews;
}

<div class="col-sm-10 col-sm-offset-1">
    <div class="row">
        <div class="panel">
            <div class="panel-body">
                <div class="col-sm-12">
                    <div class="navbar navbar-default navbar-mega">
                        <div class="container-fluid">
                            <div class="navbar-header">
                                <button type="button" class="navbar-toggle hamburger hamburger-close collapsed"
                                        data-toggle="collapse" data-target="#navbar-collapse-1">
                                    <span class="sr-only">Toggle navigation</span>
                                    <span class="hamburger-bar"></span>
                                </button>
                                <a class="navbar-brand" href="/News">Trang chủ tin tức</a>
                            </div>
                            <div class="navbar-collapse collapse" id="navbar-collapse-1">
                                <ul class="nav navbar-nav">
                                    @{
                                        foreach (var item in categories)
                                        {
                                            <li>
                                                <a href="/News/Category/@item.Id">@item.Name</a>
                                            </li>
                                        }
                                    }
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-sm-9">
                    <h1>@Model.Title</h1>

                    <div>
                        @Html.Raw(Model.NewsContent)
                    </div>
                    <div id="commentSection" style="margin-top:40px; border-top:1px solid #808080;">
                        <h3>Nhận xét</h3>
                        <div class="comment media">
                            <div class="media-left">
                                <a class="avatar avatar-lg" href="javascript:void(0)">
                                    <img src="~/Content/assets/portraits/8.jpg" alt="...">
                                </a>
                            </div>
                            <div class="comment-body media-body">
                                <a class="comment-author" href="javascript:void(0)">Heather Harper</a>
                                <div class="comment-meta">
                                    <span class="date">5 days ago</span>
                                </div>
                                <div class="comment-content">
                                    <p>
                                        Lorem ipsum Ullamco fugiat esse culpa consequat velit veniam
                                        incididunt incididunt nostrud labore nostrud sit dolore in
                                        nulla sit non laborum.
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="comment media">
                            <div class="media-left">
                                <a class="avatar avatar-lg" href="javascript:void(0)">
                                    <img src="~/Content/assets/portraits/8.jpg" alt="...">
                                </a>
                            </div>
                            <div class="comment-body media-body">
                                <a class="comment-author" href="javascript:void(0)">Heather Harper</a>
                                <div class="comment-meta">
                                    <span class="date">5 days ago</span>
                                </div>
                                <div class="comment-content">
                                    <p>
                                        Lorem ipsum Ullamco fugiat esse culpa consequat velit veniam
                                        incididunt incididunt nostrud labore nostrud sit dolore in
                                        nulla sit non laborum.
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="comment media">
                            <div class="media-left">
                                <a class="avatar avatar-lg" href="javascript:void(0)">
                                    <img src="~/Content/assets/portraits/8.jpg" alt="...">
                                </a>
                            </div>
                            <div class="comment-body media-body">
                                <a class="comment-author" href="javascript:void(0)">Heather Harper</a>
                                <div class="comment-meta">
                                    <span class="date">5 days ago</span>
                                </div>
                                <div class="comment-content">
                                    <p>
                                        Lorem ipsum Ullamco fugiat esse culpa consequat velit veniam
                                        incididunt incididunt nostrud labore nostrud sit dolore in
                                        nulla sit non laborum.
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div>
                            <form>
                                <input type="hidden" name="userId" id="userId" value="@User.Identity.GetUserId()" />
                                <input type="hidden" name="newsId" id="newsId" value="@Model.Id" />
                                <textarea class="form-control" rows="3" name="comment" id="comment"></textarea>
                                <input type="submit" class="btn btn-default pull-right" value="Đăng" />
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-sm-3">
                    <h3>Các bài viết liên quan</h3>
                    <div class="list-group height-500" style="margin-top:20px;">
                        @{
                            foreach (var item in relativeNews)
                            {
                                <a class="list-group-item" href="/News/NewsDetail/@item.Id" role="menuitem">
                                    <div class="media">
                                        <div class="media-left padding-right-10">
                                            <i class="fa fa-newspaper-o bg-green-600 white icon-circle" aria-hidden="true"></i>
                                        </div>
                                        <div class="media-body">
                                            <h6 class="media-heading">@item.Title</h6>
                                            @*<time class="media-meta" datetime="2015-06-11T18:29:20+08:00">2 days ago</time>*@
                                        </div>
                                    </div>
                                </a>
                            }
                        }
                        
                    </div>
                </div>       
            </div>
        </div>

    </div>
</div>
